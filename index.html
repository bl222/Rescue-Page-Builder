<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link href="RescueEditor/css/editor.css" rel="stylesheet" />
        <script src="tinymce/tinymce.min.js"></script>
        <script src="RescueEditor/js/templating/mustach.js" type="text/javascript"></script>
        <script src="RescueEditor/js/events/eventmanager.js" type="text/javascript"></script>
        <script src="RescueEditor/js/persistance/composite.js" type="text/javascript"></script>
        <script src="RescueEditor/js/persistance/html/html-composite.js" type="text/javascript"></script>
	<script src="RescueEditor/js/templating/templating.js" type="text/javascript"></script>
        <script src="RescueEditor/js/templating/html/html-templating.js" type="text/javascript"></script>   
        <script src="RescueEditor/js/io/configloader.js" type="text/javascript"></script>
        <script src="RescueEditor/js/io/io.js" type="text/javascript"></script>          
        <script src="RescueEditor/js/io/html/html-io.js" type="text/javascript"></script>
        <script src="RescueEditor/js/io/editor-files/editor-files-io.js" type="text/javascript"></script>
        <script src="RescueEditor/js/ui/ui.js" type="text/javascript"></script>
        <script src="richedit.js" type="text/javascript"></script>
    </head>
    <body>
        <div class="content">
     
        </div>
    
        <script type="text/javascript">

            let ui;
            let promise = BLRE.events.trigger('blre-async-load-config', {
                 url: 'RescueEditor/config.json',
             });
             promise.then(() => {
                  ui = new BlreRescueUi(document.getElementsByClassName('content')[0]);
                  ui._ajaxInit();
             });

            BLRE.events.bind('blre-ui-action-happened', (e) => {
               parent.updatePreview(ui.getFinalHtml());
            });
                     
        </script>
    </body>
</html>
